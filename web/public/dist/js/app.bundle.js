!function(t){function webpackJsonpCallback(e){for(var a,o,i=e[0],c=e[1],l=e[2],u=0,f=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&f.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);for(s&&s(e);f.length;)f.shift()();return n.push.apply(n,l||[]),checkDeferredModules()}function checkDeferredModules(){for(var t,e=0;e<n.length;e++){for(var a=n[e],o=!0,i=1;i<a.length;i++){var s=a[i];0!==r[s]&&(o=!1)}o&&(n.splice(e--,1),t=__webpack_require__(__webpack_require__.s=a[0]))}return t}var e={},r={0:0},n=[];function __webpack_require__(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,__webpack_require__),n.l=!0,n.exports}__webpack_require__.e=function requireEnsure(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var a=new Promise((function(e,a){n=r[t]=[e,a]}));e.push(n[2]=a);var o,i=document.createElement("script");i.charset="utf-8",i.timeout=120,__webpack_require__.nc&&i.setAttribute("nonce",__webpack_require__.nc),i.src=function jsonpScriptSrc(t){return __webpack_require__.p+"js/"+({1:"dygraphs"}[t]||t)+".bundle.js"}(t);var s=new Error;o=function(e){i.onerror=i.onload=null,clearTimeout(c);var n=r[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,n[1](s)}r[t]=void 0}};var c=setTimeout((function(){o({type:"timeout",target:i})}),12e4);i.onerror=i.onload=o,document.head.appendChild(i)}return Promise.all(e)},__webpack_require__.m=t,__webpack_require__.c=e,__webpack_require__.d=function(t,e,r){__webpack_require__.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},__webpack_require__.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.t=function(t,e){if(1&e&&(t=__webpack_require__(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(__webpack_require__.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)__webpack_require__.d(r,n,function(e){return t[e]}.bind(null,n));return r},__webpack_require__.n=function(t){var e=t&&t.__esModule?function getDefault(){return t.default}:function getModuleExports(){return t};return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.p="/dist/",__webpack_require__.oe=function(t){throw console.error(t),t};var a=window.webpackJsonp=window.webpackJsonp||[],o=a.push.bind(a);a.push=webpackJsonpCallback,a=a.slice();for(var i=0;i<a.length;i++)webpackJsonpCallback(a[i]);var s=o;n.push([160,2]),checkDeferredModules()}({160:function(t,e,r){"use strict";r.r(e);r(161);var n=r(3),a=r(159),o=r(7);r(162),window.darkEnabled=o.b;var i=n.a.start(),s=r(163);i.load(Object(a.a)(s)),document.addEventListener("turbolinks:load",(function(t){document.querySelectorAll(".jsonly").forEach((function(t){t.classList.remove("jsonly")}))})),window.loggingDebug="1"===window.localStorage.getItem("loggingDebug"),window.logDebug=function(t){return window.loggingDebug=t,window.localStorage.setItem("loggingDebug",t?"1":"0"),"debug logging set to "+(t?"true":"false")}},162:function(t,e,r){},163:function(t,e,r){var n={"./attackcost_controller.js":188,"./menu_controller.js":166,"./stakingreward_controller.js":167,"./status_controller.js":189};function webpackContext(t){var e=webpackContextResolve(t);return r(e)}function webpackContextResolve(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}webpackContext.keys=function webpackContextKeys(){return Object.keys(n)},webpackContext.resolve=webpackContextResolve,t.exports=webpackContext,webpackContext.id=163},166:function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return o}));var n=r(3),a=r(7);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var r,n=_getPrototypeOf(t);if(e){var a=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var o=function(t){!function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}(_default,t);var e=_createSuper(_default);function _default(){return _classCallCheck(this,_default),e.apply(this,arguments)}return function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}(_default,[{key:"connect",value:function connect(){this.clickout=this._clickout.bind(this),this.formTargets.forEach((function(t){t.addEventListener("submit",(function(t){return t.preventDefault(),!1}))}))}},{key:"_clickout",value:function _clickout(t){(function closest(t,e){return t.id===e?t:t.parentNode&&"BODY"!==t.parentNode.nodeName?closest(t.parentNode,e):null})(t.target||t.srcElement,"hamburger-menu")||(document.removeEventListener("click",this.clickout),Object(a.a)())}},{key:"toggle",value:function toggle(t){this.toggleTarget.checked&&document.addEventListener("click",this.clickout)}},{key:"onSunClick",value:function onSunClick(){Object(a.c)()}}],[{key:"targets",get:function get(){return["toggle","darkModeToggle","form"]}}]),_default}(n.b)},167:function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return c}));var n=r(3),a=r(158),o=r.n(a),i=r(0),s=r.n(i);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function asyncGeneratorStep(t,e,r,n,a,o,i){try{var s=t[o](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,a)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var r,n=_getPrototypeOf(t);if(e){var a=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(t){!function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}(_default,t);var e,r=_createSuper(_default);function _default(){return _classCallCheck(this,_default),r.apply(this,arguments)}return function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}(_default,[{key:"connect",value:(e=function _asyncToGenerator(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function _next(t){asyncGeneratorStep(o,n,a,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(o,n,a,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:this.height=parseInt(this.data.get("height")),this.ticketPrice=parseFloat(this.data.get("ticketPrice")),this.dcrPrice=parseFloat(this.data.get("dcrprice")),this.ticketReward=parseFloat(this.data.get("ticketReward")),this.rewardPeriod=parseFloat(this.data.get("rewardPeriod")),this.blockHeightTarget.textContent=this.height,this.ticketPriceTarget.textContent=this.ticketPrice.toFixed(2),this.ticketRewardTarget.textContent=this.ticketReward.toFixed(2),this.rewardPeriodTarget.textContent=this.rewardPeriod.toFixed(2),this.priceDCRTarget.value=this.dcrPrice.toFixed(2);case 10:case"end":return t.stop()}}),_callee,this)}))),function connect(){return e.apply(this,arguments)})},{key:"updatePrice",value:function updatePrice(){this.dcrPrice=parseInt(this.dcrPriceTarget.value)}},{key:"calculate",value:function calculate(){var t=this,e=parseFloat(this.amountTarget.value);if(e>0){var r=s()(this.startDateTarget.value),n=s()(this.endDateTarget.value),a=s.a.duration(n.diff(r)).asDays();if(a<this.rewardPeriod)window.alert("You must stake for ".concat(this.rewardPeriod.toFixed(2)," days and above"));else{var i=new Date(this.startDateTarget.value).getTime(),c=new Date(this.endDateTarget.value).getTime(),l="/staking-reward/get-future-reward?startDate=".concat(i,"&endDate=").concat(c,"&startingBalance=").concat(e);o.a.get(l).then((function(r){var n=r.data;t.ticketsTarget.textContent=parseInt(e/n.ticketPrice),t.amountTextTarget.textContent=e,t.amountUsdTarget.textContent=(e*t.dcrPrice).toFixed(2),t.daysTextTarget.textContent=a;var o=n.reward,i=o*e*1/100;t.percentageRoiTarget.textContent=o.toFixed(2),t.amountRoiTarget.textContent=i.toFixed(2),t.amountRoiUsdTarget.textContent=(i*t.dcrPrice).toFixed(2)}))}}else window.alert("Amount must be greater than 0")}}],[{key:"targets",get:function get(){return["blockHeight","ticketPrice","ticketReward","rewardPeriod","startDate","endDate","priceDCR","dayText","amount","amountText","days","daysText","amountRoi","percentageRoi","tickets","amountUsd","amountRoiUsd"]}}]),_default}(n.b)},187:function(t,e,r){var n={"./af":21,"./af.js":21,"./ar":22,"./ar-dz":23,"./ar-dz.js":23,"./ar-kw":24,"./ar-kw.js":24,"./ar-ly":25,"./ar-ly.js":25,"./ar-ma":26,"./ar-ma.js":26,"./ar-sa":27,"./ar-sa.js":27,"./ar-tn":28,"./ar-tn.js":28,"./ar.js":22,"./az":29,"./az.js":29,"./be":30,"./be.js":30,"./bg":31,"./bg.js":31,"./bm":32,"./bm.js":32,"./bn":33,"./bn-bd":34,"./bn-bd.js":34,"./bn.js":33,"./bo":35,"./bo.js":35,"./br":36,"./br.js":36,"./bs":37,"./bs.js":37,"./ca":38,"./ca.js":38,"./cs":39,"./cs.js":39,"./cv":40,"./cv.js":40,"./cy":41,"./cy.js":41,"./da":42,"./da.js":42,"./de":43,"./de-at":44,"./de-at.js":44,"./de-ch":45,"./de-ch.js":45,"./de.js":43,"./dv":46,"./dv.js":46,"./el":47,"./el.js":47,"./en-au":48,"./en-au.js":48,"./en-ca":49,"./en-ca.js":49,"./en-gb":50,"./en-gb.js":50,"./en-ie":51,"./en-ie.js":51,"./en-il":52,"./en-il.js":52,"./en-in":53,"./en-in.js":53,"./en-nz":54,"./en-nz.js":54,"./en-sg":55,"./en-sg.js":55,"./eo":56,"./eo.js":56,"./es":57,"./es-do":58,"./es-do.js":58,"./es-mx":59,"./es-mx.js":59,"./es-us":60,"./es-us.js":60,"./es.js":57,"./et":61,"./et.js":61,"./eu":62,"./eu.js":62,"./fa":63,"./fa.js":63,"./fi":64,"./fi.js":64,"./fil":65,"./fil.js":65,"./fo":66,"./fo.js":66,"./fr":67,"./fr-ca":68,"./fr-ca.js":68,"./fr-ch":69,"./fr-ch.js":69,"./fr.js":67,"./fy":70,"./fy.js":70,"./ga":71,"./ga.js":71,"./gd":72,"./gd.js":72,"./gl":73,"./gl.js":73,"./gom-deva":74,"./gom-deva.js":74,"./gom-latn":75,"./gom-latn.js":75,"./gu":76,"./gu.js":76,"./he":77,"./he.js":77,"./hi":78,"./hi.js":78,"./hr":79,"./hr.js":79,"./hu":80,"./hu.js":80,"./hy-am":81,"./hy-am.js":81,"./id":82,"./id.js":82,"./is":83,"./is.js":83,"./it":84,"./it-ch":85,"./it-ch.js":85,"./it.js":84,"./ja":86,"./ja.js":86,"./jv":87,"./jv.js":87,"./ka":88,"./ka.js":88,"./kk":89,"./kk.js":89,"./km":90,"./km.js":90,"./kn":91,"./kn.js":91,"./ko":92,"./ko.js":92,"./ku":93,"./ku.js":93,"./ky":94,"./ky.js":94,"./lb":95,"./lb.js":95,"./lo":96,"./lo.js":96,"./lt":97,"./lt.js":97,"./lv":98,"./lv.js":98,"./me":99,"./me.js":99,"./mi":100,"./mi.js":100,"./mk":101,"./mk.js":101,"./ml":102,"./ml.js":102,"./mn":103,"./mn.js":103,"./mr":104,"./mr.js":104,"./ms":105,"./ms-my":106,"./ms-my.js":106,"./ms.js":105,"./mt":107,"./mt.js":107,"./my":108,"./my.js":108,"./nb":109,"./nb.js":109,"./ne":110,"./ne.js":110,"./nl":111,"./nl-be":112,"./nl-be.js":112,"./nl.js":111,"./nn":113,"./nn.js":113,"./oc-lnc":114,"./oc-lnc.js":114,"./pa-in":115,"./pa-in.js":115,"./pl":116,"./pl.js":116,"./pt":117,"./pt-br":118,"./pt-br.js":118,"./pt.js":117,"./ro":119,"./ro.js":119,"./ru":120,"./ru.js":120,"./sd":121,"./sd.js":121,"./se":122,"./se.js":122,"./si":123,"./si.js":123,"./sk":124,"./sk.js":124,"./sl":125,"./sl.js":125,"./sq":126,"./sq.js":126,"./sr":127,"./sr-cyrl":128,"./sr-cyrl.js":128,"./sr.js":127,"./ss":129,"./ss.js":129,"./sv":130,"./sv.js":130,"./sw":131,"./sw.js":131,"./ta":132,"./ta.js":132,"./te":133,"./te.js":133,"./tet":134,"./tet.js":134,"./tg":135,"./tg.js":135,"./th":136,"./th.js":136,"./tk":137,"./tk.js":137,"./tl-ph":138,"./tl-ph.js":138,"./tlh":139,"./tlh.js":139,"./tr":140,"./tr.js":140,"./tzl":141,"./tzl.js":141,"./tzm":142,"./tzm-latn":143,"./tzm-latn.js":143,"./tzm.js":142,"./ug-cn":144,"./ug-cn.js":144,"./uk":145,"./uk.js":145,"./ur":146,"./ur.js":146,"./uz":147,"./uz-latn":148,"./uz-latn.js":148,"./uz.js":147,"./vi":149,"./vi.js":149,"./x-pseudo":150,"./x-pseudo.js":150,"./yo":151,"./yo.js":151,"./zh-cn":152,"./zh-cn.js":152,"./zh-hk":153,"./zh-hk.js":153,"./zh-mo":154,"./zh-mo.js":154,"./zh-tw":155,"./zh-tw.js":155};function webpackContext(t){var e=webpackContextResolve(t);return r(e)}function webpackContextResolve(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}webpackContext.keys=function webpackContextKeys(){return Object.keys(n)},webpackContext.resolve=webpackContextResolve,t.exports=webpackContext,webpackContext.id=187},188:function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return m}));var n=r(3),a=r(157),o=r.n(a);function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var i=function(){function TurboQuery(t){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,TurboQuery);var e=this;e.replaceTimer=0,e.appendTimer=0,e.turbolinks=t||Turbolinks||!1,e.turbolinks&&e.turbolinks.supported?(e.replaceHistory=e._replaceHistory.bind(e),e.appendHistory=e._appendHistory.bind(e),e.url=o()(window.location.href,!0)):console.error("No passed or global Turbolinks instance detected. TurboQuery requires Turbolinks.")}return function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}(TurboQuery,[{key:"replaceHref",value:function replaceHref(){0===this.replaceTimer&&(this.replaceTimer=setTimeout(this.replaceHistory,250))}},{key:"toHref",value:function toHref(){0===this.appendTimer&&(this.appendTimer=setTimeout(this.appendHistory,250))}},{key:"_replaceHistory",value:function _replaceHistory(){this.turbolinks.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.turbolinks.Location.wrap(this.url.href),this.turbolinks.uuid()),this.replaceTimer=0}},{key:"_appendHistory",value:function _appendHistory(){this.turbolinks.controller.pushHistoryWithLocationAndRestorationIdentifier(this.turbolinks.Location.wrap(this.url.href),this.turbolinks.uuid()),this.appendTimer=0}},{key:"replace",value:function replace(t){this.url.set("query",this.filteredQuery(t)),this.replaceHref()}},{key:"to",value:function to(t){this.url.set("query",this.filteredQuery(t)),this.toHref()}},{key:"filteredQuery",value:function filteredQuery(t){var e={};return Object.keys(t).forEach((function(r){var n=t[r];null!=n&&(e[r]=n)})),e}},{key:"update",value:function update(t){return this.constructor.project(t,this.parsed)}},{key:"get",value:function get(t){return this.url.query.hasOwnProperty(t)?TurboQuery.parseValue(this.url.query[t]):null}},{key:"parsed",get:function get(){return this.url.query}}],[{key:"parseValue",value:function parseValue(t){switch(t){case"null":case"":case"undefined":return null;case"false":return!1;case"true":return!0}return!isNaN(parseFloat(t))&&isFinite(t)?String(t).includes(".")?parseFloat(t):parseInt(t):t}},{key:"project",value:function project(t,e){var r,n=Object.keys(t);for(r in n){var a=n[r];e.hasOwnProperty(a)&&(t[a]=this.parseValue(e[a]))}return t}},{key:"nullTemplate",value:function nullTemplate(t){var e={};return t.forEach((function(t){e[t]=null})),e}}]),TurboQuery}();function asyncGeneratorStep(t,e,r,n,a,o,i){try{var s=t[o](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,a)}function _asyncToGenerator(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function _next(t){asyncGeneratorStep(o,n,a,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(o,n,a,_next,_throw,"throw",t)}_next(void 0)}))}}function getDefault(t){return _getDefault.apply(this,arguments)}function _getDefault(){return(_getDefault=_asyncToGenerator(regeneratorRuntime.mark((function _callee(t){var e;return regeneratorRuntime.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t;case 2:return e=r.sent,r.abrupt("return",new Promise((function(t){t(e.default)})));case 4:case"end":return r.stop()}}),_callee)})))).apply(this,arguments)}var s,c,l,u,f,h,p,d,g,y,_=r(4),v=r(9),k=r.n(v);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach((function(e){_defineProperty(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function attackcost_controller_asyncGeneratorStep(t,e,r,n,a,o,i){try{var s=t[o](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,a)}function attackcost_controller_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function attackcost_controller_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var r,n=_getPrototypeOf(t);if(e){var a=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function digitformat(t,e,r){if(!t)return 0;if(r)return t.toFixed(e);e=e||0;var n=parseFloat(t).toLocaleString(void 0,{minimumFractionDigits:e,maximumFractionDigits:e}).replace(/\.0*$/,"");return n.indexOf(".")>-1&&n.endsWith("0")?function removeTrailingZeros(t){if(-1===(t=t.toString()).indexOf("."))return t;var e=t.length-1;do{"0"===t[e]&&e--}while("0"===t[e]);"."===t[e]&&e--;return t.substr(0,e+1)}(n):n}function rateCalculation(t){var e=1-(t=t||.99);return(6*Math.pow(e,5)-15*Math.pow(e,4)+10*Math.pow(e,3))/(6*Math.pow(t,5)-15*Math.pow(t,4)+10*Math.pow(t,3))}var b={0:{hashrate:34,units:"Th/s",power:1610,cost:1282,name:"DCR5",link:"https://www.cryptocompare.com/mining/bitmain/antminer-dr5-blake256r14-34ths/"},1:{hashrate:44,units:"Th/s",power:2200,cost:4199,name:"D1",link:"https://www.cryptocompare.com/mining/crypto-drilling/microbt-whatsminer-d1-plus-psu-dcr-44ths/"}};function legendFormatter(t){var e="";if(null==t.x){var r=t.series.reduce((function(t,e){return"".concat(t," <span>").concat(e.labelHTML,"</span>")}),"");e="<span>".concat(this.getLabels()[0],": N/A</span>").concat(r)}else{var n=t.series.reduce((function(t,e){if(!e.isVisible)return t;var r=e.y>=1?2:6;return"".concat(t,' <span class="ml-3">').concat(e.labelHTML,":</span> &nbsp;").concat(digitformat(e.y,r),"x")}),"<br>");e="<span>".concat(this.getLabels()[0],": ").concat(digitformat(t.x,1),"</span>").concat(n)}return k.a.sanitize(e),e}function nightModeOptions(t){return t?{rangeSelectorAlpha:.3,gridLineColor:"#596D81",colors:["#2DD8A3","#2970FF","#FFC84E"]}:{rangeSelectorAlpha:.4,gridLineColor:"#C4CBD2",colors:["#2970FF","#006600","#FF0090"]}}var m=function(t){!function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}(_default,t);var e,n=_createSuper(_default);function _default(){return attackcost_controller_classCallCheck(this,_default),n.apply(this,arguments)}return function attackcost_controller_createClass(t,e,r){return e&&attackcost_controller_defineProperties(t.prototype,e),r&&attackcost_controller_defineProperties(t,r),t}(_default,[{key:"connect",value:(e=function attackcost_controller_asyncToGenerator(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function _next(t){attackcost_controller_asyncGeneratorStep(o,n,a,_next,_throw,"next",t)}function _throw(t){attackcost_controller_asyncGeneratorStep(o,n,a,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(){var t=this;return regeneratorRuntime.wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return this.query=new i,this.settings=i.nullTemplate(["attack_time","target_pow","kwh_rate","other_costs","target_pos","price","device","attack_type"]),this.query.update(this.settings),c=parseInt(this.data.get("height")),u=parseInt(this.data.get("hashrate")),l=parseFloat(this.data.get("dcrprice")),p=parseFloat(this.data.get("ticketPrice")),h=parseFloat(this.data.get("ticketPoolValue")),f=parseInt(this.data.get("ticketPoolSize")),y=parseInt(this.data.get("coinSupply")),this.defaultSettings={attack_time:1,target_pow:100,kwh_rate:.1,other_costs:5,target_pos:51,price:l,device:0,attack_type:"external"},this.settings.attack_time&&(this.attackPeriodTarget.value=parseInt(this.settings.attack_time)),this.settings.target_pow&&(this.targetPowTarget.value=parseFloat(this.settings.target_pow)),this.settings.kwh_rate&&(this.kwhRateTarget.value=parseFloat(this.settings.kwh_rate)),this.settings.other_costs&&(this.otherCostsTarget.value=parseFloat(this.settings.other_cost)),this.settings.target_pos&&this.setAllInputs(this.targetPosTargets,parseFloat(this.settings.target_pos)),this.settings.price&&(this.priceDCRTarget.value=parseFloat(this.settings.price)),this.settings.device&&this.setDevice(this.settings.device),this.settings.attack_type&&(this.attackTypeTarget.value=this.settings.attack_type),this.settings.target_pos&&(this.attackPercentTarget.value=parseInt(this.targetPosTarget.value)/100),"internal"!==this.settings.attack_type&&(this.settings.attack_type="external"),this.setDevicesDesc(),this.updateSliderData(),e.next=25,getDefault(r.e(1).then(r.t.bind(null,192,7)));case 25:(s=e.sent).prototype.doZoomY_=function(t,e){},this.plotGraph(),this.processNightMode=function(e){t.chartsView.updateOptions(nightModeOptions(e.nightMode))},_.a.on("NIGHT_MODE",this.processNightMode);case 30:case"end":return e.stop()}}),_callee,this)}))),function connect(){return e.apply(this,arguments)})},{key:"disconnect",value:function disconnect(){_.a.off("NIGHT_MODE",this.processNightMode),void 0!==this.chartsView&&this.chartsView.destroy()}},{key:"plotGraph",value:function plotGraph(){var t=this;d=[],this.ratioTable=new Map;for(var e=10;e<=1e3;e+=5){var r=e/1e3,n=rateCalculation(r);this.ratioTable.set(n,r),d.push([r*f,n])}var a=_objectSpread(_objectSpread({},nightModeOptions(!1)),{},{labels:["Attackers Tickets","Hash Power Multiplier"],ylabel:"Hash Power Multiplier",xlabel:"Attackers Tickets",axes:{y:{axisLabelWidth:70}},highlightSeriesOpts:{strokeWidth:2},legendFormatter:legendFormatter,hideOverlayOnMouseOut:!1,labelsDiv:this.labelsTarget,labelsSeparateLines:!0,showRangeSelector:!1,labelsKMB:!0,legend:"always",logscale:!0,interactionModel:{click:function click(e){t.attackPercentTarget.value=g.x,t.updateSliderData()}},highlightCallback:function highlightCallback(t,e,r){g=r[0]}});this.chartsView=new s(this.graphTarget,d,a),this.chartsView.setAnnotations([{series:"Hashpower multiplier",x:.51,shortText:"L",text:"51% Attack"}]),this.setActivePoint()}},{key:"updateQueryString",value:function updateQueryString(){var t=[{},this.settings,this.defaultSettings],e=t[0],r=t[1],n=t[2];for(var a in r)r[a]&&r[a].toString()!==n[a].toString()&&(e[a]=r[a]);this.query.replace(e)}},{key:"updateAttackTime",value:function updateAttackTime(){this.settings.attack_time=this.attackPeriodTarget.value,this.updateSliderData()}},{key:"updateTargetPow",value:function updateTargetPow(t){this.preserveTargetPow=!0;var e=parseFloat(t.currentTarget.value)/100,r=this.ratioTable.get(e);if(void 0===r){var n=0,a=0;this.ratioTable.forEach((function(t,o){if(n<=e&&e<=o||n>=e&&e>=o){var i=Math.abs(o-e),s=Math.abs(n-e);r=i<s?t:a}n=o,a=t}))}this.attackPercentTarget.value=r,this.updateSliderData()}},{key:"chooseDevice",value:function chooseDevice(){this.settings.device=this.selectedDevice(),this.updateSliderData()}},{key:"chooseAttackType",value:function chooseAttackType(){this.settings.attack_type=this.selectedAttackType(),this.updateSliderData()}},{key:"updateKwhRate",value:function updateKwhRate(){this.settings.kwh_rate=this.kwhRateTarget.value,this.updateSliderData()}},{key:"updateOtherCosts",value:function updateOtherCosts(){this.settings.other_costs=this.otherCostsTarget.value,this.updateSliderData()}},{key:"updateTargetPos",value:function updateTargetPos(t){this.settings.target_pos=t.currentTarget.value,this.preserveTargetPoS=!0,this.setAllInputs(this.targetPosTargets,t.currentTarget.value),this.updateQueryString(),this.attackPercentTarget.value=parseFloat(this.targetPosTarget.value)/100,this.updateSliderData()}},{key:"updatePrice",value:function updatePrice(){this.settings.price=this.priceDCRTarget.value,l=this.priceDCRTarget.value,this.updateSliderData()}},{key:"selectedDevice",value:function selectedDevice(){return this.deviceTarget.value}},{key:"selectedAttackType",value:function selectedAttackType(){return this.attackTypeTarget.value}},{key:"selectOption",value:function selectOption(t){var e="0";return t.map((function(t){t.selected&&(e=t.value)})),e}},{key:"setDevicesDesc",value:function setDevicesDesc(){this.deviceDescTargets.map((function(t){var e=b[t.value];e&&(t.innerHTML="".concat(e.name,", ").concat(e.hashrate," ").concat(e.units,", ").concat(e.power,"w, $").concat(digitformat(e.cost)," per unit"))}))}},{key:"setDevice",value:function setDevice(t){return this.setOption(this.deviceTargets,t)}},{key:"setOption",value:function setOption(t,e){t.map((function(t){t.selected=t.value===e}))}},{key:"setActivePoint",value:function setActivePoint(){if(void 0!==this.chartsView){var t=Math.min(parseFloat(this.attackPercentTarget.value)||0,.99),e=this.chartsView.getRowForX(t*f);this.chartsView.setSelection(e)}}},{key:"updateTargetHashRate",value:function updateTargetHashRate(){var t=parseFloat(this.targetPosTarget.value);this.targetHashRate=u*rateCalculation(t/100);var e=100*this.targetHashRate/u;switch(this.preserveTargetPow?this.preserveTargetPow=!1:this.targetPowTarget.value=digitformat(e,2,!0),this.setAllValues(this.internalHashTargets,digitformat(this.targetHashRate,4)+" Ph/s "),this.settings.attack_type){case"external":this.setAllValues(this.newHashRateTargets,digitformat(this.targetHashRate+u,4)),this.setAllValues(this.additionalHashRateTargets,digitformat(this.targetHashRate,4)),this.projectedPriceDivTarget.style.display="block",this.internalAttackTextTarget.classList.add("d-none"),this.internalAttackPosTextTarget.classList.add("d-none"),this.externalAttackTextTarget.classList.remove("d-none"),this.externalAttackPosTextTarget.classList.remove("d-node");break;case"internal":default:this.projectedPriceDivTarget.style.display="none",this.externalAttackTextTarget.classList.add("d-none"),this.externalAttackPosTextTarget.classList.add("d-node"),this.internalAttackTextTarget.classList.remove("d-none"),this.internalAttackPosTextTarget.classList.remove("d-none")}}},{key:"updateSliderData",value:function updateSliderData(){var t=Math.min(parseFloat(this.attackPercentTarget.value)||0,.99);switch(this.preserveTargetPoS?this.preserveTargetPoS=!1:this.setAllInputs(this.targetPosTargets,100*t),this.updateTargetHashRate(),this.setActivePoint(),this.ticketsTarget.innerHTML=digitformat(t*f)+" tickets ",this.settings.attack_type){case"external":this.hideAll(this.internalAttackPosTextTargets),this.showAll(this.externalAttackPosTextTargets);break;case"internal":default:this.hideAll(this.externalAttackPosTextTargets),this.showAll(this.internalAttackPosTextTargets)}this.calculate(!0)}},{key:"calculate",value:function calculate(t){t||this.updateTargetHashRate(),this.updateQueryString();var e,r,n=b[this.selectedDevice()],a=Math.ceil(1e3*this.targetHashRate/n.hashrate),o=a*n.cost,i=a*n.power*parseFloat(this.attackPeriodTarget.value)/1e3,s=i*parseFloat(this.kwhRateTarget.value),d=parseFloat(this.otherCostsTarget.value)/100*(o+s),g=d+o+s;"external"===this.settings.attack_type?(r=h/(1-parseFloat(this.targetPosTarget.value)/100),this.setAllValues(this.newTicketPoolValueTargets,digitformat(r,2)),this.setAllValues(this.additionalDcrTargets,digitformat(r-h,2))):(e=f*parseFloat(this.targetPosTarget.value)/100,r=h*(parseFloat(this.targetPosTarget.value)/100),this.setAllValues(this.ticketPoolAttackTargets,digitformat(r)));var y=r/f;this.projectedTicketPriceIncreaseTarget.innerHTML=digitformat(100*(y-p)/p,2),this.ticketPoolValueTarget.innerHTML=digitformat(u,3);var _="external"===this.settings.attack_type?r-h:e*y,v=_*l,k=this.attackPeriodTarget.value;k=this.attackPeriodTarget.value>1?k+" hours":k+" hour",this.ticketPoolSizeLabelTarget.innerHTML=digitformat(f,2),this.setAllValues(this.actualHashRateTargets,digitformat(u,4)),this.priceDCRTarget.value=digitformat(l,2),this.setAllInputs(this.targetPosTargets,digitformat(parseFloat(this.targetPosTarget.value),2)),this.ticketPriceTarget.innerHTML=digitformat(p,4),this.setAllValues(this.targetHashRateTargets,digitformat(this.targetHashRate,4)),this.setAllValues(this.additionalHashRateTargets,digitformat(this.targetHashRate,4)),this.setAllValues(this.durationLongDescTargets,k),this.setAllValues(this.countDeviceTargets,digitformat(a)),this.setAllValues(this.deviceNameTargets,'<a href="'.concat(n.link,'">').concat(n.name,"</a>s")),this.setAllValues(this.totalDeviceCostTargets,digitformat(o)),this.setAllValues(this.totalKwhTargets,digitformat(i,2)),this.setAllValues(this.totalElectricityTargets,digitformat(s,2)),this.setAllValues(this.otherCostsValueTargets,digitformat(d,2)),this.setAllValues(this.totalPowTargets,digitformat(g,2)),this.setAllValues(this.ticketSizeAttackTargets,digitformat(e)),this.setAllValues(this.totalDCRPosTargets,digitformat(_,2)),this.setAllValues(this.totalPosTargets,digitformat(v)),this.setAllValues(this.ticketPoolValueTargets,digitformat(h)),this.setAllValues(this.ticketPoolSizeTargets,digitformat(f)),this.blockHeightTarget.innerHTML=digitformat(c),this.totalTarget.innerHTML=digitformat(g+v,2),this.projectedTicketPriceTarget.innerHTML=digitformat(y,2),this.attackPosPercentAmountLabelTarget.innerHTML=digitformat(this.targetPosTarget.value,2),this.setAllValues(this.totalDCRPosLabelTargets,digitformat(_,2)),this.setAllValues(this.dcrPriceLabelTargets,digitformat(l,2)),this.showPosCostWarning(r)}},{key:"setAllValues",value:function setAllValues(t,e){t.forEach((function(t){t.innerHTML=e}))}},{key:"setAllInputs",value:function setAllInputs(t,e){t.forEach((function(t){t.value=e}))}},{key:"hideAll",value:function hideAll(t){t.forEach((function(t){return t.classList.add("d-none")}))}},{key:"showAll",value:function showAll(t){t.forEach((function(t){return t.classList.remove("d-none")}))}},{key:"showPosCostWarning",value:function showPosCostWarning(t){var e=y/1e8;t>e?(this.coinSupplyTarget.textContent=digitformat(e,2),this.totalAttackCostContainerTarget.style.cssText="color: #f12222 !important",this.showAll(this.attackNotPossibleWrapperDivTargets)):(this.totalAttackCostContainerTarget.style.cssText="color: #6c757d !important",this.hideAll(this.attackNotPossibleWrapperDivTargets))}}],[{key:"targets",get:function get(){return["actualHashRate","attackPercent","attackPeriod","blockHeight","countDevice","device","deviceCost","deviceDesc","deviceName","external","internal","internalHash","kwhRate","kwhRateLabel","otherCosts","otherCostsValue","priceDCR","internalAttackText","targetHashRate","externalAttackText","externalAttackPosText","additionalDcr","newTicketPoolValue","internalAttackPosText","additionalHashRate","newHashRate","targetPos","targetPow","ticketAttackSize","ticketPoolAttack","ticketPoolSize","ticketPoolSizeLabel","ticketPoolValue","ticketPrice","tickets","ticketSizeAttack","durationLongDesc","total","totalDCRPos","totalDeviceCost","totalElectricity","totalExtraCostRate","totalKwh","totalPos","totalPow","graph","labels","projectedTicketPrice","projectedTicketPriceIncrease","attackType","attackPosPercentAmountLabel","dcrPriceLabel","totalDCRPosLabel","projectedPriceDiv","attackNotPossibleWrapperDiv","coinSupply","totalAttackCostContainer"]}}]),_default}(n.b)},189:function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return f}));var n=r(3),a=r(9),o=r.n(a);function _slicedToArray(t,e){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,s=t[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){a=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}return r}(t,e)||function _unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,e)}(t,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function forward(t,e,r){if(void 0!==r[t])for(var n=0;n<r[t].length;n++)r[t][n](e)}var i=new(function(){function MessageSocket(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,MessageSocket),this.uri=void 0,this.connection=void 0,this.handlers={},this.queue=[],this.maxQlength=5}return function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}(MessageSocket,[{key:"registerEvtHandler",value:function registerEvtHandler(t,e){this.handlers[t]=this.handlers[t]||[],this.handlers[t].push(e)}},{key:"deregisterEvtHandlers",value:function deregisterEvtHandlers(t){this.handlers[t]=[]}},{key:"send",value:function send(t,e){if(void 0!==this.connection){var r=JSON.stringify({event:t,message:e});window.loggingDebug&&console.log("send",r),this.connection.send(r)}else{for(;this.queue.length>this.maxQlength-1;)this.queue.shift();this.queue.push([t,e])}}},{key:"connect",value:function connect(t){var e=this;this.uri=t,this.connection=new window.WebSocket(t),this.close=function(t){console.log("close, reason:",t,e.handlers),clearTimeout(r),e.handlers={},e.connection.close()},this.connection.onmessage=function(t){var r=JSON.parse(t.data);forward(r.event,r.message,e.handlers)},this.connection.onclose=function(){forward("close",null,e.handlers)},this.connection.onopen=function(){for(forward("open",null,e.handlers);e.queue.length;){var t,r,n=_slicedToArray(e.queue.shift(),2);t=n[0],r=n[1],e.send(t,r)}},this.connection.onerror=function(t){forward("error",t,e.handlers)};var r=setInterval((function(){e.send("ping","sup")}),7e3)}}]),MessageSocket}()),s=r(5),c=r.n(s),l=r(4);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function status_controller_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function status_controller_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var r,n=_getPrototypeOf(t);if(e){var a=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function buildProgressBar(t){var e=o.a.sanitize,r=t.percentage_complete,n=function humanizeTime(t){var e=Math.floor(t/31536e3)%10,r=Math.floor(t/2628e3)%12,n=Math.floor(t/604800)%4,a=Math.floor(t/86400)%7,o=Math.floor(t/3600)%24,i=Math.floor(t/60)%60,s=["yr","mo","wk","d","hr","min","sec"];return[e,r,n,a,o,i,t%60].map((function(t,e){return 0!==t?t+""+s[e]:""})).join("  ")}(t.seconds_to_complete),a=t.bar_msg.length>0?e('<p style="font-size:14px;">'.concat(t.bar_msg,"</p>"),{FORBID_TAGS:["svg","math"]}):"",i=t.subtitle.trim(),s=i.length>0?e('<span style="font-size:11px;">notification : <i>'.concat(i,"</i></span>"),{FORBID_TAGS:["svg","math"]}):"",c="pending";return r>0&&(c=t.seconds_to_complete>0?"remaining approx.  "+n:"0sec"),100===r&&(c="done"),"sync complete"===i&&(s=""),a+e('<div class="progress" style="height:30px;border-radius:5px;">\n                <div class="progress-bar sync-progress-bar" role="progressbar" style="height:auto; width:'+r+'%;">\n                <span class="nowrap pl-1 font-weight-bold">Progress '+r+"% ("+c+")</span>\n                </div>\n            </div>",{FORBID_TAGS:["svg","math"]})+s}var u=!1,f=function(t){!function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}(_default,t);var e=_createSuper(_default);function _default(){return status_controller_classCallCheck(this,_default),e.apply(this,arguments)}return function status_controller_createClass(t,e,r){return e&&status_controller_defineProperties(t.prototype,e),r&&status_controller_defineProperties(t,r),t}(_default,[{key:"connect",value:function connect(){var t=this;this.progressBars={"initial-load":this.initTarget,"addresses-sync":this.addressTarget},i.registerEvtHandler("blockchainSync",(function(e){var r,n=JSON.parse(e);for(r=0;r<n.length;r++){for(var a=n[r],o=t.progressBars[a.progress_bar_id];o.firstChild;)o.removeChild(o.firstChild);if(o.innerHTML=buildProgressBar(a),"sync complete"===a.subtitle&&!u)return u=!0,c.a.needsPermission||new c.a("Blockchain Sync Complete",{body:"Redirecting to home in 20 secs.",tag:"blockheight",image:"/images/dcrdata144x128.png",icon:"/images/dcrdata144x128.png",notifyShow:c.a.onShowNotification,notifyClose:c.a.onCloseNotification,notifyClick:c.a.onClickNotification,notifyError:c.a.onErrorNotification,timeout:10}).show(),t.messageTarget.querySelector("h5").textContent="Blockchain sync is complete. Redirecting to home in 20 secs.",void setTimeout((function(){return Turbolinks.visit("/")}),2e4)}})),this.processBlock=this._processBlock.bind(this),l.a.on("BLOCK_RECEIVED",this.processBlock)}},{key:"disconnect",value:function disconnect(){i.deregisterEvtHandlers("blockchainSync"),l.a.off("BLOCK_RECEIVED",this.processBlock)}},{key:"_processBlock",value:function _processBlock(t){this.hasFutureBlockTarget&&Turbolinks.visit(window.location,{action:"replace"})}}],[{key:"targets",get:function get(){return["statusSyncing","futureBlock","init","address","message"]}}]),_default}(n.b)},4:function(t,e,r){"use strict";var n=r(190);function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=[];function findEventCallbacksPair(t){return a.find((function(e){return e.eventType===t}))}function EventCallbacksPair(t,e){this.eventType=t,this.callbacks=[e]}var o=new(function(){function EventBus(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,EventBus)}return function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}(EventBus,[{key:"on",value:function on(t,e){var r=findEventCallbacksPair(t);r?r.callbacks.push(e):a.push(new EventCallbacksPair(t,e))}},{key:"off",value:function off(t,e){var r=findEventCallbacksPair(t);r&&Object(n.a)(r.callbacks,(function(t){return t===e}))}},{key:"publish",value:function publish(t,e){var r=findEventCallbacksPair(t);r&&r.callbacks.forEach((function(t){return t(e)}))}}]),EventBus}());e.a=o},7:function(t,e,r){"use strict";function setCookie(t,e,r){var n=new Date;n.setTime(n.getTime()+60*r*1e3);var a="expires="+n.toUTCString();document.cookie=t+"="+e+";"+a+";path=/"}r.d(e,"b",(function(){return darkEnabled})),r.d(e,"c",(function(){return toggleSun})),r.d(e,"a",(function(){return closeMenu}));var n=r(4),a=document.getElementById("sun-icon");function darkEnabled(){return document.cookie.includes("pdanalyticsDarkBG")}function menuToggle(){return document.querySelector("#menuToggle input")}function toggleToDarkClasses(t){a.classList.remove("dcricon-sun-fill"),a.classList.add("dcricon-sun-stroke"),t.classList.add("darkBG")}function toggleToLightClasses(t){t.classList.remove("darkBG"),a.classList.remove("dcricon-sun-stroke"),a.classList.add("dcricon-sun-fill")}function toggleSun(){darkEnabled()?(setCookie("pdanalyticsDarkBG","",0),toggleToLightClasses(document.body),n.a.publish("NIGHT_MODE",{nightMode:!1})):(setCookie("pdanalyticsDarkBG",1,525600),toggleToDarkClasses(document.body),n.a.publish("NIGHT_MODE",{nightMode:!0}))}function closeMenu(){var t=menuToggle();t.checked&&(t.checked=!1,t.dispatchEvent(new window.Event("change")))}darkEnabled()?toggleToDarkClasses(document.body):toggleToLightClasses(document.body),document.addEventListener("turbolinks:before-render",(function(t){darkEnabled()?toggleToDarkClasses(t.data.newBody):toggleToLightClasses(t.data.newBody)}))}});
//# sourceMappingURL=app.bundle.js.map